{"version":3,"sources":["../../src/pages/native/native-photo-library/native-photo-library.ts","../../src/pages/native/native-photo-library/native-photo-library.module.ts"],"names":[],"mappings":"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","file":"27.js","sourcesContent":["import { Component  } from '@angular/core';\nimport { IonicPage, AlertController, Platform } from 'ionic-angular';\n\nimport { PhotoLibrary } from '@ionic-native/photo-library';\n// import { CDVPhotoLibraryPipe } from '../../app/pipes/cdvphotolibrary.pipe';\n\n@IonicPage()\n@Component({\n  selector: 'page-native-photo-library',\n  templateUrl: 'native-photo-library.html',\n  // providers: [CDVPhotoLibraryPipe]\n})\nexport class NativePhotoLibraryPage {\n\n  showPhoto:any;\n  errorMessage:string;\n\n  constructor(\n    private photoLibrary: PhotoLibrary, \n    public platform: Platform,\n    public alertCtrl: AlertController) {\n    if (!this.platform.is('cordova')) {\n      console.warn('Cordova is not available');\n      const alert = this.alertCtrl.create({\n        title: 'Attention!',\n        subTitle: 'Only works in real device',\n        buttons: ['Close']\n      });\n      alert.present();\n    }\n    else{\n      this.openPhotoLibrary();\n    }\n  }\n\n  openPhotoLibrary() {\n    this.photoLibrary.requestAuthorization().then(() => {\n      this.photoLibrary.getLibrary().subscribe({\n        next: library => {\n          var newLibrary = new Array();\n          library.forEach(function(libraryItem) {\n            // console.log(libraryItem.id);          // ID of the photo\n            // console.log(libraryItem.photoURL);    // Cross-platform access to photo\n            // console.log(libraryItem.thumbnailURL);// Cross-platform access to thumbnail\n            // console.log(libraryItem.fileName);\n            // console.log(libraryItem.width);\n            // console.log(libraryItem.height);\n            // console.log(libraryItem.creationDate);\n            // console.log(libraryItem.latitude);\n            // console.log(libraryItem.longitude);\n            // console.log(libraryItem.albumIds);    // array of ids of appropriate AlbumItem, only of includeAlbumsData was used\n            \n            let step1 = libraryItem.photoURL.split('%2F').join('/').split('storage');\n            let step2 = \"storage\"+step1[1];\n            let newUrl = \"file:///\"+step2;\n            console.log(newUrl);\n            let newData = {\n              id: libraryItem.id,\n              photoURL: newUrl,\n              thumbnailURL: libraryItem.thumbnailURL,\n              fileName: libraryItem.fileName,\n              width: libraryItem.width,\n              height: libraryItem.height,\n              creationDate: libraryItem.creationDate,\n              latitude: libraryItem.latitude,\n              longitude: libraryItem.longitude,\n              albumIds: libraryItem.albumIds,\n            };\n            newLibrary.push(newData);\n          });\n          this.showPhoto = newLibrary;       \n          console.log(this.showPhoto);\n        },\n        error: err => { this.errorMessage = err; }\n      }\n      );\n    })\n    .catch(err => { this.errorMessage = err; console.log('permissions weren\\'t granted'); });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/native/native-photo-library/native-photo-library.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { NativePhotoLibraryPage } from './native-photo-library';\n\n@NgModule({\n  declarations: [\n    NativePhotoLibraryPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(NativePhotoLibraryPage),\n  ],\n  exports: [\n    NativePhotoLibraryPage\n  ]\n})\nexport class NativePhotoLibraryPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/native/native-photo-library/native-photo-library.module.ts"],"sourceRoot":""}